{"version":3,"sources":["src/app/functionalities/admin-panel/components/admin-layout/admin-layout.component.html","src/app/functionalities/admin-panel/components/user-managment/user-managment.component.html","src/app/functionalities/admin-panel/admin-panel-routing.module.ts","src/app/functionalities/admin-panel/admin-panel.module.ts","src/app/functionalities/admin-panel/components/admin-layout/admin-layout.component.scss","src/app/functionalities/admin-panel/components/admin-layout/admin-layout.component.ts","src/app/functionalities/admin-panel/components/user-managment/user-managment.component.scss","src/app/functionalities/admin-panel/components/user-managment/user-managment.component.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"    <div sidenav-content>\\n      <app-user-managment></app-user-managment>\\n\\n    </div>\\n\"","export default \"<div class=\\\"container\\\">\\n  <div class=\\\"row\\\">\\n    <mat-card>\\n      <div class=\\\"wrapper\\\">\\n      <h3>Zarządzanie użytkownikami</h3>\\n      <table #usersTable mat-table matSort [dataSource]=\\\"users\\\" class=\\\"mat-elevation-z8 mt-4 user-table\\\">\\n\\n      <ng-container matColumnDef=\\\"id\\\">\\n        <th mat-header-cell *matHeaderCellDef> ID. </th>\\n        <td mat-cell *matCellDef=\\\"let element\\\"> {{element.id}} </td>\\n      </ng-container>\\n\\n      <ng-container matColumnDef=\\\"username\\\">\\n        <th mat-header-cell *matHeaderCellDef> Nazwa użytkownika </th>\\n        <td mat-cell *matCellDef=\\\"let element\\\"> {{element.username}} </td>\\n      </ng-container>\\n\\n      <ng-container matColumnDef=\\\"banned\\\">\\n        <th mat-header-cell *matHeaderCellDef> Aktywny </th>\\n        <td mat-cell *matCellDef=\\\"let element\\\"> {{element.banned ? 'Zablokowany' : 'Aktywny' }} </td>\\n      </ng-container>\\n\\n      <ng-container matColumnDef=\\\"removed\\\">\\n        <th mat-header-cell *matHeaderCellDef> Usunięty </th>\\n        <td mat-cell *matCellDef=\\\"let element\\\"> {{element.active ? 'Nie' : 'Tak' }} </td>\\n      </ng-container>\\n\\n      <ng-container matColumnDef=\\\"role\\\">\\n        <th mat-header-cell *matHeaderCellDef> Rola </th>\\n        <td mat-cell *matCellDef=\\\"let element\\\"> {{element.playingFieldId ? 'Pracownik' : 'Użytkownik' }} </td>\\n      </ng-container>\\n      <ng-container matColumnDef=\\\"action\\\">\\n        <th mat-header-cell *matHeaderCellDef> Opcje </th>\\n        <td mat-cell *matCellDef=\\\"let element\\\">\\n\\n          <button mat-raised-button color=\\\"primary\\\" *ngIf=\\\"element.banned == false\\\" class=\\\"mr-4\\\" (click)=\\\"banAccount(element)\\\">Zablokuj</button>\\n          <button mat-raised-button color=\\\"primary\\\" *ngIf=\\\"element.banned == true\\\" class=\\\"mr-4\\\" (click)=\\\"unbanAccount(element)\\\">Odblokuj</button>\\n\\n          <button mat-raised-button color=\\\"warn\\\" class=\\\"mr-4\\\"  *ngIf=\\\"element.active\\\" (click)=\\\"deleteAccount(element)\\\">Usuń</button>\\n          <button mat-raised-button color=\\\"warn\\\" class=\\\"mr-4\\\"  *ngIf=\\\"!element.active\\\" (click)=\\\"restoreAccount(element)\\\">Przywróć</button>\\n\\n          <button mat-raised-button color=\\\"warn\\\" class=\\\"mr-4\\\" *ngIf=\\\"element.playingFieldId\\\" (click)=\\\"deleteWorker(element)\\\">Zwolnij</button>\\n\\n\\n        </td>\\n      </ng-container>\\n\\n      <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\n      <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\"></tr>\\n    </table>\\n    <mat-paginator\\n    #usersPaginator\\n    [length]=\\\"usersLength\\\"\\n    [pageSizeOptions]=\\\"[5, 10, 20,30]\\\"\\n  ></mat-paginator>\\n  </div>\\n  </mat-card>\\n\\n  <mat-card>\\n      <div class=\\\"wrapper\\\">\\n      <h3>Zarządzanie zgłoszeniami</h3>\\n    <table mat-table #workerRequestTable [dataSource]=\\\"workerRequest\\\" class=\\\"mat-elevation-z8 requests-table\\\">\\n\\n      <ng-container matColumnDef=\\\"id\\\">\\n        <th mat-header-cell *matHeaderCellDef> ID. </th>\\n        <td mat-cell *matCellDef=\\\"let element\\\"> {{element.id}} </td>\\n      </ng-container>\\n\\n      <ng-container matColumnDef=\\\"username\\\">\\n        <th mat-header-cell *matHeaderCellDef> Nazwa użytkownika </th>\\n        <td mat-cell *matCellDef=\\\"let element\\\"> {{element.username}} </td>\\n      </ng-container>\\n\\n      <ng-container matColumnDef=\\\"status\\\">\\n        <th mat-header-cell *matHeaderCellDef> Status </th>\\n        <td mat-cell *matCellDef=\\\"let element\\\"> {{element.status}} </td>\\n      </ng-container>\\n\\n      <ng-container matColumnDef=\\\"proofOfWork\\\">\\n        <th mat-header-cell *matHeaderCellDef> Dowód pracy </th>\\n        <td mat-cell *matCellDef=\\\"let element\\\"> <div  (click)=\\\"openImage(element.proofOfWork)\\\">  <img src=\\\"data:image/jpg;base64,{{element.proofOfWork}}\\\" width=\\\"100px\\\" height=\\\"100px\\\"> </div></td>\\n      </ng-container>\\n\\n      <ng-container matColumnDef=\\\"options\\\">\\n        <th mat-header-cell *matHeaderCellDef> Opcje </th>\\n        <td mat-cell *matCellDef=\\\"let element\\\">\\n\\n          <button mat-flat-button color=\\\"primary\\\" class=\\\"mr-4\\\" (click)=\\\"acceptWorkerRequest(element)\\\">Zaakceptuj zgłoszenie</button>\\n          <button mat-flat-button color=\\\"primary\\\" class=\\\"mr-4\\\" (click)=\\\"declineWorkerRequest(element)\\\">Anuluj zgłoszenie</button>\\n        </td>\\n      </ng-container>\\n\\n      <tr mat-header-row *matHeaderRowDef=\\\"displayedRequestColumns\\\"></tr>\\n      <tr mat-row *matRowDef=\\\"let row; columns: displayedRequestColumns;\\\"></tr>\\n    </table>\\n  </div>\\n\\n</mat-card>\\n  </div>\\n</div>\\n\\n\"","\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { AdminLayoutComponent } from './components/admin-layout/admin-layout.component';\nimport { UserManagmentComponent } from './components/user-managment/user-managment.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AdminLayoutComponent,\n    children: [\n      {\n        path: '',\n        pathMatch: 'full',\n        redirectTo: 'users'\n      },\n      {\n        path: 'users',\n        component: UserManagmentComponent,\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class AdminPanelRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { UserManagmentComponent } from './components/user-managment/user-managment.component';\nimport { AdminLayoutComponent } from './components/admin-layout/admin-layout.component';\nimport { SharedModule } from '@app/shared/shared.module';\nimport { AdminPanelRoutingModule } from './admin-panel-routing.module';\nimport { EnlargeImageDialogComponent } from '../../shared/components/enlarge-image-dialog/enlarge-image-dialog.component';\n\n@NgModule({\n  declarations: [UserManagmentComponent, AdminLayoutComponent],\n  imports: [\n    SharedModule,\n    AdminPanelRoutingModule,\n\n  ],\n  providers: [\n  ],\n  entryComponents: [\n    EnlargeImageDialogComponent\n  ]\n})\nexport class AdminPanelModule { }\n","export default \":host {\\n  overflow: auto;\\n  height: calc(100% - 65px);\\n  width: 100%; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZnVuY3Rpb25hbGl0aWVzL2FkbWluLXBhbmVsL2NvbXBvbmVudHMvYWRtaW4tbGF5b3V0L0Q6XFxtdnBcXHBsYXlpbmdmaWVsZG1hbmFnbWVudFxcZnJvbnRlbmQvc3JjXFxhcHBcXGZ1bmN0aW9uYWxpdGllc1xcYWRtaW4tcGFuZWxcXGNvbXBvbmVudHNcXGFkbWluLWxheW91dFxcYWRtaW4tbGF5b3V0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsY0FBYTtFQUNiLHlCQUF5QjtFQUN6QixXQUFVLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9mdW5jdGlvbmFsaXRpZXMvYWRtaW4tcGFuZWwvY29tcG9uZW50cy9hZG1pbi1sYXlvdXQvYWRtaW4tbGF5b3V0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gIG92ZXJmbG93OmF1dG87XHJcbiAgaGVpZ2h0OiBjYWxjKDEwMCUgLSA2NXB4KTtcclxuICB3aWR0aDoxMDAlO1xyXG59XHJcbiJdfQ== */\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-admin-layout',\n  templateUrl: './admin-layout.component.html',\n  styleUrls: ['./admin-layout.component.scss']\n})\nexport class AdminLayoutComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","export default \"mat-card {\\n  width: 100%;\\n  margin: 30px 30px 20px 30px;\\n  max-height: 450px;\\n  overflow: auto; }\\n  mat-card .wrapper {\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    flex-direction: column; }\\n  mat-card .wrapper h3 {\\n      text-align: center;\\n      width: 100%;\\n      color: #26c6da; }\\n  mat-card .wrapper table {\\n      width: 95%;\\n      margin-top: 10px !important;\\n      margin-bottom: 20px; }\\n  mat-card .mat-column-proofOfWork {\\n    width: 100px;\\n    height: 40px; }\\n  .requests-table img {\\n  height: 100%;\\n  width: 100%;\\n  max-height: 80px;\\n  max-width: 80px;\\n  margin: 10px 0; }\\n  .requests-table button {\\n  width: 160px;\\n  color: white; }\\n  table th:last-of-type {\\n  width: 40%; }\\n  table td {\\n  padding: 0; }\\n  button {\\n  cursor: pointer;\\n  transition: 0.3s; }\\n  button:hover {\\n    transition: 0.3s;\\n    opacity: 0.8; }\\n  .user-table {\\n  margin-bottom: 0 !important; }\\n  .user-table button {\\n    width: 90px; }\\n  mat-paginator {\\n  margin-bottom: 15px;\\n  width: 95%; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZnVuY3Rpb25hbGl0aWVzL2FkbWluLXBhbmVsL2NvbXBvbmVudHMvdXNlci1tYW5hZ21lbnQvRDpcXG12cFxccGxheWluZ2ZpZWxkbWFuYWdtZW50XFxmcm9udGVuZC9zcmNcXGFwcFxcZnVuY3Rpb25hbGl0aWVzXFxhZG1pbi1wYW5lbFxcY29tcG9uZW50c1xcdXNlci1tYW5hZ21lbnRcXHVzZXItbWFuYWdtZW50LmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9mdW5jdGlvbmFsaXRpZXMvYWRtaW4tcGFuZWwvY29tcG9uZW50cy91c2VyLW1hbmFnbWVudC9EOlxcbXZwXFxwbGF5aW5nZmllbGRtYW5hZ21lbnRcXGZyb250ZW5kL3NyY1xcc3R5bGVzXFx2YXJpYWJsZXMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNFLFdBQVc7RUFDWCwyQkFBNEI7RUFDNUIsaUJBQWlCO0VBQ2pCLGNBQWMsRUFBQTtFQUpoQjtJQU1JLGFBQWE7SUFDYix1QkFBdUI7SUFDdkIsbUJBQW1CO0lBQ25CLHNCQUFzQixFQUFBO0VBVDFCO01BV00sa0JBQWtCO01BQ2xCLFdBQVc7TUFDWCxjQ2ZXLEVBQUE7RURFakI7TUFnQk0sVUFBVTtNQUNWLDJCQUEyQjtNQUMzQixtQkFBbUIsRUFBQTtFQWxCekI7SUFzQkksWUFBWTtJQUNaLFlBQVksRUFBQTtFQUloQjtFQUVJLFlBQVk7RUFDWixXQUFXO0VBQ1gsZ0JBQWdCO0VBQ2hCLGVBQWU7RUFDZixjQUFjLEVBQUE7RUFObEI7RUFVSSxZQUFZO0VBQ1osWUFBWSxFQUFBO0VBSWhCO0VBR00sVUFBUyxFQUFBO0VBSGY7RUFPSSxVQUNGLEVBQUE7RUFHRjtFQUNFLGVBQWU7RUFDZixnQkFBZ0IsRUFBQTtFQUZsQjtJQUtJLGdCQUFnQjtJQUNoQixZQUNGLEVBQUE7RUFHRjtFQUNFLDJCQUEwQixFQUFBO0VBRDVCO0lBSUUsV0FBVSxFQUFBO0VBR1o7RUFDRSxtQkFBa0I7RUFDbEIsVUFBUyxFQUFBIiwiZmlsZSI6InNyYy9hcHAvZnVuY3Rpb25hbGl0aWVzL2FkbWluLXBhbmVsL2NvbXBvbmVudHMvdXNlci1tYW5hZ21lbnQvdXNlci1tYW5hZ21lbnQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0IFwiLi4vLi4vLi4vLi4vLi4vc3R5bGVzL3ZhcmlhYmxlcy5zY3NzXCI7XG5cbm1hdC1jYXJkIHtcbiAgd2lkdGg6IDEwMCU7XG4gIG1hcmdpbjogMzBweCAzMHB4IDIwcHggMzBweCA7XG4gIG1heC1oZWlnaHQ6IDQ1MHB4O1xuICBvdmVyZmxvdzogYXV0bztcbiAgLndyYXBwZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGgzIHtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgY29sb3I6ICRwcmltYXJ5O1xuICAgIH1cbiAgICB0YWJsZSB7XG4gICAgICB3aWR0aDogOTUlO1xuICAgICAgbWFyZ2luLXRvcDogMTBweCAhaW1wb3J0YW50O1xuICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICB9XG4gIH1cbiAgLm1hdC1jb2x1bW4tcHJvb2ZPZldvcmsge1xuICAgIHdpZHRoOiAxMDBweDtcbiAgICBoZWlnaHQ6IDQwcHg7XG4gIH1cbn1cblxuLnJlcXVlc3RzLXRhYmxlIHtcbiAgaW1nIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgbWF4LWhlaWdodDogODBweDtcbiAgICBtYXgtd2lkdGg6IDgwcHg7XG4gICAgbWFyZ2luOjEwcHggMCA7XG4gIH1cblxuICBidXR0b24ge1xuICAgIHdpZHRoOiAxNjBweDtcbiAgICBjb2xvcjogd2hpdGU7XG4gIH1cbn1cblxudGFibGUge1xuICB0aHtcbiAgICAmOmxhc3Qtb2YtdHlwZXtcbiAgICAgIHdpZHRoOjQwJTtcbiAgICB9XG4gIH1cbiAgdGR7XG4gICAgcGFkZGluZzowXG4gIH1cbn1cblxuYnV0dG9uIHtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB0cmFuc2l0aW9uOiAwLjNzO1xuXG4gICY6aG92ZXIge1xuICAgIHRyYW5zaXRpb246IDAuM3M7XG4gICAgb3BhY2l0eTowLjhcbiAgfVxufVxuXG4udXNlci10YWJsZSB7XG4gIG1hcmdpbi1ib3R0b206MCAhaW1wb3J0YW50O1xuXG5idXR0b24ge1xuICB3aWR0aDo5MHB4O1xufVxufVxubWF0LXBhZ2luYXRvciB7XG4gIG1hcmdpbi1ib3R0b206MTVweDtcbiAgd2lkdGg6OTUlO1xufVxuIiwiJHByaW1hcnk6ICMyNmM2ZGE7XHJcbiRwcmltYXJ5SG92ZXI6ICMyMmI0YzQ7XHJcbiRwcmltYXJ5QmV0YTogIzkyZWVmYTtcclxuJHByaW1hcnlMaWdodDojYTdmMGZhO1xyXG4kcHJpbWFyeUxpZ2h0ZXI6ICNjZmY5ZmY7XHJcbiRhY2NlbnRDb2xvcjogIzQ1NWE2NDtcclxuJGFjY2VudENvbG9yQWxwaGE6ICM1Yzc4ODY7XHJcbiRhY2NlbnRDb2xvckFscGhhSG92ZXI6ICM0NTVhNjQ7XHJcbiRkcm9wZG93bkFycm93Q29sb3I6ICM0NDQ0NDQ7XHJcbiR0ZXh0QnV0dG9uQ29sb3I6IHdoaXRlO1xyXG4kdGV4dENvbG9yOiBibGFjaztcclxuJGlucHV0VHlwZUhvdmVyOiAjZWJlYmViO1xyXG4kY2hlY2tUcnVlOiByZ2IoNSwgMjA3LCA1KTtcclxuJGZhbHNlSWNvbjogcmVkO1xyXG4kZHJvcHpvbmU6ICNhYWFhYWE7XHJcbiRzY3JvbGxCYWNrZ3JvdW5kOiBsaWdodGdyZXk7XHJcbiRjb2xvci1kZWZhdWx0LWJnOiBsaWdodGdyZXk7XHJcbiR0aC1wcmltYXJ5OiBibGFjaztcclxuJGNvbG9yLXNlcGFyYXRvci1saWdodGVyOiBsaWdodGdyZXk7XHJcbiRjb2xvci10ZXh0LWludmVyc2U6IHdoaXRlO1xyXG4kY29sb3ItdGV4dC1kaXNhYmxlZDogI2FhYWFhYTtcclxuJGNvbG9yLWhvdmVyOiAjMGNhOGJjO1xyXG5AaW1wb3J0IFwibm9kZV9tb2R1bGVzL2Jvb3RzdHJhcC9zY3NzL19mdW5jdGlvbnNcIjtcclxuQGltcG9ydCBcIm5vZGVfbW9kdWxlcy9ib290c3RyYXAvc2Nzcy9fdmFyaWFibGVzXCI7XHJcbkBpbXBvcnQgXCJub2RlX21vZHVsZXMvYm9vdHN0cmFwL3Njc3MvX21peGluc1wiO1xyXG5cclxuJGJyZWFrcG9pbnRzOiAoeHM6IDAsXHJcbiAgc206IDYwMHB4LFxyXG4gIG1kOiA4MDBweCxcclxuICBsZzogMTAwMHB4LFxyXG4gIHhsOiAxMjgwcHgpO1xyXG5cclxuLy8gQGltcG9ydCBcIm5vZGVfbW9kdWxlcy9ib290c3RyYXAvc2Nzcy9ib290c3RyYXBcIjtcclxuJGNvbnRhaW5lci1tYXgtd2lkdGhzOiAoc206IDYwMHB4LFxyXG4gIG1kOiA4MDBweCxcclxuICBsZzogMTAwMHB4LFxyXG4gIHhsOiAxMjIwcHgpO1xyXG4iXX0= */\"","import { Component, OnInit, ViewChild } from \"@angular/core\";\nimport { UserDto } from \"@app/shared/model\";\nimport { UserService } from \"@app/shared/service/user.service\";\nimport { RegisterWorkerService } from \"@app/shared/service/register-worker.service\";\nimport { WorkerRequest } from \"@app/shared/model/worker-request\";\nimport { EnlargeImageDialogComponent } from \"@app/shared/components/enlarge-image-dialog/enlarge-image-dialog.component\";\nimport { MatDialog } from \"@angular/material/dialog\";\nimport { MatTable, MatPaginator, MatSort } from \"@angular/material\";\nimport { startWith, switchMap, map, catchError } from \"rxjs/operators\";\nimport { of, merge } from \"rxjs\";\n\n@Component({\n  selector: \"app-user-managment\",\n  templateUrl: \"./user-managment.component.html\",\n  styleUrls: [\"./user-managment.component.scss\"]\n})\nexport class UserManagmentComponent implements OnInit {\n  @ViewChild(\"usersTable\", { static: false })\n  usersTable: MatTable<UserDto[]>;\n\n  @ViewChild(\"workerRequestTable\", { static: false })\n  workerRequestTable: MatTable<WorkerRequest[]>;\n  @ViewChild(MatPaginator, { static: true })\n  usersPaginator: MatPaginator;\n  @ViewChild(MatSort, { static: true }) sort: MatSort;\n  displayedColumns: string[] = [\n    \"id\",\n    \"username\",\n    \"banned\",\n    \"removed\",\n    \"role\",\n    \"action\"\n  ];\n  displayedRequestColumns: string[] = [\n    \"id\",\n    \"username\",\n    \"status\",\n    \"proofOfWork\",\n    \"options\"\n  ];\n  users: UserDto[];\n  usersLength: number;\n  workerRequest: WorkerRequest[];\n  constructor(\n    private userService: UserService,\n    private registerWorkerService: RegisterWorkerService,\n    private dialog: MatDialog\n  ) {}\n\n  ngOnInit() {\n    this.handleUserTable();\n    this.getWorkerRequests();\n  }\n\n  private getWorkerRequests() {\n    this.registerWorkerService.getWorkerRequests().subscribe(workers => {\n      console.log(workers);\n      workers.forEach(val => {\n        if (val.status === \"SENDED\") {\n          val.status = \"Oczekujące\";\n        }\n      });\n\n      this.workerRequest = workers;\n    });\n  }\n\n  acceptWorkerRequest(workerRequest) {\n    this.registerWorkerService\n      .acceptWorkerRequest(workerRequest.id)\n      .subscribe(() => {\n        this.workerRequest.splice(this.workerRequest.indexOf(workerRequest), 1);\n        this.workerRequestTable.renderRows();\n        const user = this.users.find(\n          val => (val.username = workerRequest.username)\n        );\n        user.playingFieldId = workerRequest.pfId;\n        this.usersTable.renderRows();\n      });\n  }\n\n  declineWorkerRequest(workerRequest) {\n    this.registerWorkerService\n      .declineWorkerRequest(workerRequest.id)\n      .subscribe(() => {\n        this.workerRequest.splice(this.workerRequest.indexOf(workerRequest), 1);\n        this.workerRequestTable.renderRows();\n      });\n  }\n\n  banAccount(user: UserDto) {\n    this.userService.banUser(user.id).subscribe((resp: any) => {\n      user.banned = true;\n    });\n  }\n\n  deleteAccount(user) {\n    this.userService.deleteUser(user.id).subscribe((resp: any) => {\n      user.active = false;\n    });\n  }\n\n  unbanAccount(user: UserDto) {\n    this.userService.unbanUser(user.id).subscribe((resp: any) => {\n      user.banned = false;\n    });\n  }\n  openImage(image: File) {\n    this.dialog.open(EnlargeImageDialogComponent, {\n      data: { image: image },\n      panelClass: \"custom-enlarge-dialog-container\"\n    });\n  }\n  deleteWorker(worker) {\n    this.userService.deleteWorker(worker.id).subscribe(val => {\n      worker.playingFieldId = null;\n    });\n  }\n  restoreAccount(user) {\n    this.userService.restoreAccount(user.id).subscribe(val => {\n      user.active = true;\n    });\n  }\n\n  handleUserTable() {\n    this.usersPaginator.pageSize = 5;\n    merge(\n      this.sort.sortChange,\n      this.usersPaginator.page,\n      this.usersPaginator.pageSize\n    )\n      .pipe(\n        startWith({}),\n        switchMap(() => {\n          const params = {\n            sort: ``,\n            page: this.usersPaginator.pageIndex + \"\",\n            size: this.usersPaginator.pageSize + \"\"\n          };\n\n          return this.userService.getUsersForAdmin(params);\n        }),\n        map((data: any) => {\n          this.usersLength = data.totalElements;\n          return data.content;\n        }),\n        catchError(() => {\n          return of([]);\n        })\n      )\n      .subscribe(data => (this.users = data));\n  }\n}\n"],"sourceRoot":"webpack:///"}